{% extends 'base.html' %}

{% block content %}
<div class="form-container">
    <h2>Illness Predictor</h2>

    <div class="preface">  
        <p>Welcome to the Illness Predictor, a tool designed to provide preliminary insights based on your symptoms. This system utilizes AI-driven analysis to identify potential conditions that may match the symptoms you select. While this tool is built on medical datasets and pattern recognition, it is not a substitute for professional medical advice.</p>  

        <p><strong>How to Use:</strong></p>  
        <ul>  
            <li>Select at least <strong>three symptoms</strong> to proceed.</li>  
            <li>Expand each category by clicking on its name to view relevant symptoms.</li>  
            <li>The AI will process your selections and return potential matches based on symptom patterns.</li>  
        </ul>  

        <p><strong>Disclaimer:</strong> This tool does not provide a medical diagnosis. The predictions generated are based on statistical analysis and should not be used as a replacement for consultation with a healthcare professional.</p>  
    </div>
    
    <form method="post">
        {% csrf_token %}

        <!-- Musculoskeletal Symptoms -->
        <div class="category category-musculoskeletal" onclick="toggleCategory('musculoskeletal')">Musculoskeletal Symptoms</div>
        <div id="musculoskeletal" class="symptom-list">
            <div class="symptom-grid">
                {% for symptom in musculoskeletal %}
                <label><input type="checkbox" name="{{ symptom.0 }}"> {{ symptom.1 }}</label>
                {% endfor %}
            </div>
        </div>

        <!-- Gastrointestinal and Urinary Symptoms -->
        <div class="category category-gastrointestinal" onclick="toggleCategory('gastrointestinal')">Gastrointestinal and Urinary Symptoms</div>
        <div id="gastrointestinal" class="symptom-list">
            <div class="symptom-grid">
                {% for symptom in gastrointestinal %}
                <label><input type="checkbox" name="{{ symptom.0 }}"> {{ symptom.1 }}</label>
                {% endfor %}
            </div>
        </div>

        <!-- Psychological Symptoms -->
        <div class="category category-psychological" onclick="toggleCategory('psychological')">Psychological Symptoms</div>
        <div id="psychological" class="symptom-list">
            <div class="symptom-grid">
                {% for symptom in psychological %}
                <label><input type="checkbox" name="{{ symptom.0 }}"> {{ symptom.1 }}</label>
                {% endfor %}
            </div>
        </div>

        <!-- Cardiovascular Symptoms -->
        <div class="category category-cardiovascular" onclick="toggleCategory('cardiovascular')">Cardiovascular Symptoms</div>
        <div id="cardiovascular" class="symptom-list">
            <div class="symptom-grid">
                {% for symptom in cardiovascular %}
                <label><input type="checkbox" name="{{ symptom.0 }}"> {{ symptom.1 }}</label>
                {% endfor %}
            </div>
        </div>

        <!-- Dermatological Symptoms -->
        <div class="category category-dermatological" onclick="toggleCategory('dermatological')">Dermatological Symptoms</div>
        <div id="dermatological" class="symptom-list">
            <div class="symptom-grid">
                {% for symptom in dermatological %}
                <label><input type="checkbox" name="{{ symptom.0 }}"> {{ symptom.1 }}</label>
                {% endfor %}
            </div>
        </div>

        <!-- Liver Related Symptoms -->
        <div class="category category-liver" onclick="toggleCategory('liver')">Liver Related Symptoms</div>
        <div id="liver" class="symptom-list">
            <div class="symptom-grid">
                {% for symptom in liver %}
                <label><input type="checkbox" name="{{ symptom.0 }}"> {{ symptom.1 }}</label>
                {% endfor %}
            </div>
        </div>

        <!-- Inflammatory Symptoms -->
        <div class="category category-inflammatory" onclick="toggleCategory('inflammatory')">Inflammatory Symptoms</div>
        <div id="inflammatory" class="symptom-list">
            <div class="symptom-grid">
                {% for symptom in inflammatory %}
                <label><input type="checkbox" name="{{ symptom.0 }}"> {{ symptom.1 }}</label>
                {% endfor %}
            </div>
        </div>

        <!-- Other Symptoms -->
        <div class="category category-other" onclick="toggleCategory('other')">Other Symptoms</div>
        <div id="other" class="symptom-list">
            <div class="symptom-grid">
                {% for symptom in other %}
                <label><input type="checkbox" name="{{ symptom.0 }}"> {{ symptom.1 }}</label>
                {% endfor %}
            </div>
        </div>

        <button type="submit" class="submit-btn">Submit</button>
    </form>
</div>

<script>
function toggleCategory(id) {
    var element = document.getElementById(id);
    element.style.display = element.style.display === 'block' ? 'none' : 'block';
}
</script>
{% endblock %}
